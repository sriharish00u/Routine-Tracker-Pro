<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Daily Routine Tracker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="loginContainer" class="container">
    <h1>Welcome to Routine Tracker</h1>
    <form id="loginForm">
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" id="username" placeholder="Enter your username" required>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" placeholder="Enter your password" required>
      </div>
      <div id="loginError" class="error-message" style="display: none;"></div>
      <div class="button-group">
        <button type="button" onclick="login()" class="btn btn-primary">
          <svg class="icon" viewBox="0 0 24 24"><path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9M19 9H14V4H5V21H19V9Z"/></svg>
          Login
        </button>
        <button type="button" onclick="register()" class="btn btn-secondary">
          <svg class="icon" viewBox="0 0 24 24"><path d="M15,14C12.33,14 7,15.33 7,18V20H23V18C23,15.33 17.67,14 15,14M6,10V7H4V10H1V12H4V15H6V12H9V10M15,12A4,4 0 0,0 19,8A4,4 0 0,0 15,4A4,4 0 0,0 11,8A4,4 0 0,0 15,12Z"/></svg>
          Register
        </button>
        <button type="button" onclick="guestLogin()" class="btn btn-outline">
          <svg class="icon" viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M11,6V8H13V6H11M11,10V18H13V10H11Z"/></svg>
          Continue as Guest
        </button>
      </div>
    </form>
  </div>

  <div id="routineContainer" class="container hidden" style="display:none;">
    <header class="app-header">
      <h1>My Daily Routine - <span id="todayDate"></span></h1>
      <div class="header-actions">
        <button onclick="toggleTheme()" class="btn btn-icon" aria-label="Toggle theme" title="Theme">
          <svg class="icon" viewBox="0 0 24 24"><path d="M7.5,2C5.71,3.15 4.5,5.18 4.5,7.5C4.5,9.82 5.71,11.85 7.53,13C4.46,13.04 2,10.64 2,7.5C2,4.36 4.44,1.94 7.5,2M6.5,5C5.67,5 5,5.67 5,6.5C5,7.33 5.67,8 6.5,8C7.33,8 8,7.33 8,6.5C8,5.67 7.33,5 6.5,5M19.5,2C21.29,3.15 22.5,5.18 22.5,7.5C22.5,9.82 21.29,11.85 19.47,13C22.54,13.04 25,10.64 25,7.5C25,4.36 22.56,1.94 19.5,2M18.5,5C17.67,5 17,5.67 17,6.5C17,7.33 17.67,8 18.5,8C19.33,8 20,7.33 20,6.5C20,5.67 19.33,5 18.5,5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"/></svg>
        </button>
        <button onclick="resetLogs()" class="btn btn-icon" aria-label="Reset logs" title="Reset">
          <svg class="icon" viewBox="0 0 24 24"><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M7,9L10,12L7,15V13H5V11H7V9M17,9V11H15V13H17V15L14,12L17,9Z"/></svg>
        </button>
        <button onclick="exportTodayCSV()" class="btn btn-icon" aria-label="Export CSV" title="Export">
          <svg class="icon" viewBox="0 0 24 24"><path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/></svg>
        </button>
        <button onclick="logout()" class="btn btn-icon" aria-label="Logout" title="Logout">
          <svg class="icon" viewBox="0 0 24 24"><path d="M17,7L15.59,8.41L18.17,11H8V13H18.17L15.59,15.59L17,17L22,12L17,7M4,5H12V3H4C2.89,3 2,3.89 2,5V19C2,20.11 2.89,21 4,21H12V19H4V5Z"/></svg>
        </button>
      </div>
    </header>
    <div class="routines-grid" id="routinesContainer">
      <!-- Routines will be rendered here -->
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
